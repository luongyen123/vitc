<!DOCTYPE html>
<html>
<head>
	
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="qlsv.css">
	
</head>
<body>
     <h2 style="text-align: center; color: blue;" > Quản lý sinh viên </h2>
     <h3>Nhập thông tin sinh viên</h3>
     <div id="nhap">
     	<form action="">
     		Mã sinh viên <br> 
     		<input type="text" id="msv"> <br> 
     		Họ tên  <br> 
            <input type="text" id="hoten"> <br>
            Ngày sinh  <br> 
            <input type="text" id="ngaysinh"> <br> 
            Quê quán  <br> 
            <input type="text" id="quequan"> <br> <br>
            <input type="button" onclick="addsv()" id="action" value="Cập nhật" title="">       
     	</form>
     </div>
     <h3>Danh sách sinh viên</h3>
  
     	<table id="Danhsach">

     		<div id="sinhnhatsv"></div>
     		<script type="text/javascript">

     			var sinhvien = [
					{msv:635501,hoten:"Nguyễn Minh Anh",ngaysinh:"07/11/2000",quequan:"Thanh Hóa"},
					{msv:635502,hoten:"Trần Tuấn Anh",ngaysinh:"08/11/2000",quequan:"Thanh Hóa"},
					{msv:635503,hoten:"Lê Công Hoàng",ngaysinh:"09/11/2000",quequan:"Bắc Ninh"},
					{msv:635589,hoten:"Đặng Hoàng Mai",ngaysinh:"06/11/2000",quequan:"Thanh Hóa"},
					{msv:637723,hoten:"Lê Minh Tú",ngaysinh:"05/11/2000",quequan:"Thanh Hóa"},
					{msv:637758,hoten:"Lê Công Hoàng",ngaysinh:"07/11/2000",quequan:"Thanh Hóa"},
					];
				var ds = "<tr><td>Mã Sinh Viên</td><td>Họ Tên</td><td>Ngày sinh</td><td>Quê Quán</td><td>Xóa</td><td>Sửa</td></tr>";
				for( var i=0; i<sinhvien.length;i++){
					ds+="<tr><td>"+sinhvien[i].msv+"</td>"+"<td>"+sinhvien[i].hoten+"</td>"+"<td>"+sinhvien[i].ngaysinh+"</td>"+"<td>"+sinhvien[i].quequan+"</td><td><button onclick='xoasv("+i+")' >Xóa</button></td><td><button onclick='suasv("+i+")' >Sửa</button></td></tr>";
					
				}
				document.getElementById("Danhsach").innerHTML=ds;
			for(var i=0;i<sinhvien.length;i++)
					{   var date=new Date();
						var d=new Date(sinhvien[i].ngaysinh);
						if(d.getMonth()==(new Date()).getMonth())
						{
							if(d.getDate()==(new Date()).getDate())
							{
								alert("hôm nay là sinh nhật của"+sinhvien[i].hoten);
								
							}
						}
						
					}

				
    
				function addsv(){
					
					if(document.getElementById("action").title=""){

					    sinhvien.push({msv:document.getElementById("msv").value,
					    hoten: document.getElementById("hoten").value,
					    quequan: document.getElementById("quequan").value});
		                var n=sinhvien.length-1;
						ds+="<tr><td>"+sinhvien[n].msv+"</td>"+"<td>"+sinhvien[n].hoten+"</td>"+"<td>"+sinhvien[i].ngaysinh+"</td>"+"<td>"+sinhvien[n].quequan+"</td><td><button onclick='xoasv("+i+")' >Xóa</button></td><td><button onclick='suasv("+i+")' >Sửa</button></td></tr>";
		                document.getElementById("Danhsach").innerHTML=ds;
		            }else{
		            	var m=parseInt(document.getElementById("action").title);
		            	
		            	sinhvien.splice(m,1,{msv:document.getElementById("msv").value,
						hoten: document.getElementById("hoten").value,
						quequan: document.getElementById("quequan").value});
	                    var ds = "<tr><td>Mã Sinh Viên</td><td>Họ Tên</td><td>Ngày sinh</td><td>Quê Quán</td><td>Xóa</td><td>Sửa</td></tr>";
					    for( var i=0; i<sinhvien.length;i++){
						ds+="<tr><td>"+sinhvien[i].msv+"</td>"+"<td>"+sinhvien[i].hoten+"</td>"+"<td>"+sinhvien[i].ngaysinh+"</td>"+"<td>"+sinhvien[i].quequan+"</td><td><button onclick='xoasv("+i+")' >Xóa</button></td><td><button onclick='suasv("+i+")' >Sửa</button></td></tr>";			
					           }
		                document.getElementById("Danhsach").innerHTML=ds;
		            }
	            	
				}
				function xoasv(i){
                    sinhvien.splice(i,1);
					var ds = "<tr><td>Mã Sinh Viên</td><td>Họ Tên</td><td>Ngày sinh</td><td>Quê Quán</td><td>Xóa</td><td>Sửa</td></tr>";
				    for( var i=0; i<sinhvien.length;i++){
					ds+="<tr><td>"+sinhvien[i].msv+"</td>"+"<td>"+sinhvien[i].hoten+"</td>"+"<td>"+sinhvien[i].ngaysinh+"</td>"+"<td>"+sinhvien[i].quequan+"</td><td><button onclick='xoasv("+i+")' >Xóa</button></td><td><button onclick='suasv("+i+")' >Sửa</button></td></tr>";	

				         }
			
                    document.getElementById("Danhsach").innerHTML=ds;
				}
				
				function suasv(i){
                    document.getElementById("msv").value=sinhvien[i].msv;
                    document.getElementById("hoten").value=sinhvien[i].hoten;
                    document.getElementById("ngaysinh").value=sinhvien[i].ngaysinh;
                    document.getElementById("quequan").value=sinhvien[i].quequan;
                    document.getElementById("action").title= i;
                    
                }
                
     		</script>
     	</table>
    
     
</body>
</html>